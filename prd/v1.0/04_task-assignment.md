## AI 페이스메이커 v1.0: 팀별 작업 할당

### 1. Frontend 작업 (SvelteKit)

- **(US 1.1)** 온보딩 UI 개발: 최초 로그인 시, 서비스 철학과 일러스트를 포함한 화면 구현
- **(US 1.3)** 계정 관리 UI/UX 개발: 회원가입 폼, 이메일 인증 안내/결과 페이지, 로그인 폼 구현
- **(US 1.2)** 설정 페이지 UI 개발: '아침 알림', '저녁 알림' 수신 여부를 선택하는 2개의 단순 토글 스위치 구현
- **(US 2.1, 3.1)** 메인 화면 UI 및 상태 관리: 시스템 고정 시간(아침 06-12시, 저녁 18-24시)에 따라 '다짐하기'/'회고하기' 버튼이 자동으로 활성화/비활성화되는 로직 구현
- **(US 2.2, 2.3, 2.4)** 아침 다짐 대화형 UI 개발:
  - 최대 5 Turn의 대화 흐름을 관리하는 채팅 인터페이스 구현
  - 마지막 Turn에 AI의 최종 제안과 함께 `[확정하기]`, `[직접 수정하기]`, `[다시 시작하기]` 3개 버튼이 포함된 특수 UI 렌더링
  - `[직접 수정하기]` 선택 시, 제안된 텍스트가 채워진 입력창으로 전환하는 기능
  - `[다시 시작하기]`는 1회만 가능하도록 상태를 관리하고, 이후 버튼을 비활성화 처리
- **(US 3.2, 3.3, 3.4, 3.5)** 저녁 회고 구조화된 UI 개발:
  - Phase 1: 아침 다짐 결과 선택(`[✅]`, `[🔺]`, `[❌]`) 및 간단한 텍스트 입력 UI
  - Phase 2: 하루 전체 회고를 위한 자유 텍스트 입력 UI
  - 모든 정보 입력 후, 서버로부터 받은 최종 AI 피드백을 표시하는 요약 뷰
- **(US 4.1, 4.2)** 히스토리 뷰 UI 개발: 월별 캘린더 컴포넌트, 기록이 있는 날에 점 표시, 날짜 선택 시 '성장 카드'를 통해 상세 내용 조회 기능 구현 (스트릭 강조 배제)
- **(전체 기능 공통)** API 연동 및 상태 처리: 모든 기능에 대한 Backend API 호출, 로딩, 에러 상태 처리

### 2. Backend 작업 (Spring Boot)

- **(US 1.3)** 사용자 인증 시스템 구현: JWT(JSON Web Token) 기반의 인증 체계 구축. 이메일 인증 토큰 기반 회원가입, `is_verified` 플래그를 확인하는 로그인 API, API 요청에 대한 JWT 유효성 검증 필터 등 보안 체계 구성
- **(US 1.1, 1.2)** 사용자 프로필 API 개발: 온보딩 완료 여부(`onboarding_completed`), 알림 수신 여부(`morning_notif_on` 등)를 저장하고 수정하는 기능
- **(US 1.2)** 푸시 알림 스케줄러 구현: 하루 두 번, 고정된 시간(05:50, 17:50)에 알림 수신을 동의한 모든 사용자에게 일괄적으로 푸시 알림을 발송하는 스케줄링 로직
- **(전체 기능 공통)** 데이터베이스 스키마 설계 및 구축: 사용자, 다짐, 회고 데이터를 저장하기 위한 PostgreSQL 테이블 설계
- **(US 2.2, 2.3, 2.4)** 아침 다짐 AI 대화 API 개발:
  - 대화 Turn 횟수(최대 5회) 및 '다시 시작' 횟수(최대 1회)를 관리하며 API 호출을 제한하는 로직 구현
  - 전날 회고 데이터를 조회하여 첫 프롬프트에 동적으로 주입
  - 최대 Turn 도달 시, 더 이상 질문이 아닌 '최종 제안'을 생성하도록 AI 모델 호출 및 `is_final_proposal` 플래그를 포함하여 응답
- **(US 3.2, 3.3, 3.4, 3.5)** 저녁 회고 AI 피드백 API 개발:
  - Phase 1, 2의 구조화된 데이터를 모두 입력받아, 단 한 번의 AI API 호출로 종합적인 요약/피드백을 생성하는 로직
  - 아침 다짐이 없는 날에는 '다짐 체크인(Phase 1)'을 건너뛰는 흐름 조정 로직 포함
- **(US 4.1, 4.2)** 히스토리 조회 API 개발: 월별 기록 유무를 반환하는 API와, 특정일의 상세 데이터를 반환하는 API 분리 구현
- **(전체 기능 공통)** 핵심 행동 로깅 시스템 및 비기능적 요구사항 구현

### 3. 공통 / 협업

- **API 명세 정의**: Frontend와 Backend 간의 모든 API 엔드포인트, Request/Response 데이터 구조, HTTP 상태 코드 및 에러 메시지를 함께 확정

---

### 4. 작업 할당 근거 및 설명

- **공통 원칙:** 사용자에게 보여지는 모든 시각적 요소와 상호작용은 **Frontend**에, 데이터 처리, 비즈니스 로직, 외부 서비스 연동, 보안 등 서버의 모든 책임은 **Backend**에 할당하여 역할을 명확히 분리했습니다.
- **주요 결정 사항 (우리의 논의가 반영된 결과):**
  - **의도적으로 다른 UX 철학 적용:** 아침과 저녁의 사용자 심리 상태가 다름을 인지하고, **아침 다짐**은 아이디어를 탐색하는 **'대화형'**으로, **저녁 회고**는 하루를 정리하는 **'구조적 입력 + 통찰 요약형'**으로 다르게 설계했습니다. 이는 AI를 상황에 맞는 최적의 파트너로 포지셔닝하여 서비스의 깊이를 더하기 위함입니다.
  - **MVP의 본질에 충실한 리스크 관리:** 대화 턴(Turn) 제한, 재시도 1회 제한 등의 규칙은 기능을 추가한 것이 아니라, MVP 단계에서 치명적인 **비용 및 사용자 경험 리스크를 통제하기 위한 필수적인 안전장치**입니다. 이는 '최소 기능'을 넘어 '핵심 가치를 안정적으로 검증'하는 MVP의 본질에 충실한 결정입니다.
  - **단순함을 통한 사용자 집중 유도:** 사용자가 시간을 직접 설정하는 복잡성을 제거하고, 시스템이 고정된 시간 규칙을 제시함으로써 사용자는 고민 없이 서비스의 핵심 가치(다짐과 회고)에만 집중할 수 있습니다.
  - **확장성을 고려한 기술 선택:** JWT 기반 인증 시스템은 상태 비저장(Stateless) 구조를 통해 향후 서버 확장 및 모바일 앱 등 다양한 클라이언트 지원에 유연하게 대처할 수 있는 전략적 선택입니다.

### 5. 검토 후 제외된 항목

- **제외 항목: 'Out-of-Scope' 및 'Future Considerations' 관련 기능들**
  - **사유:** 주간/월간 회고, 고급 분석 리포트, 소셜 기능 등은 v1.0 문서의 'In-Scope' 범위를 벗어나는 항목들이므로 MVP의 핵심 가치에 집중하기 위해 의도적으로 제외했습니다.
- **제외 항목: 수익 모델 및 세부 정책**
  - **사유:** '미해결 질문 및 리스크'에 언급된 수익 모델, 구체적인 데이터 프라이버시 정책 등은 개발 작업이 아닌 비즈니스 및 정책 결정 사항이므로 개발팀의 작업 목록에서 제외했습니다.

### 6. 함께 검토 및 논의할 점

- **푸시 알림 서비스 선정 및 구현:** Backend에서 실제 푸시 알림을 보내기 위해 어떤 기술/서비스(예: Firebase Cloud Messaging, APNS 등)를 사용할지 구체적인 기술 선정이 필요합니다. 이는 초기 환경 설정에 영향을 미칩니다.
- **AI 프롬프트 상세 설계:** 기능별 대화 흐름은 정의되었지만, AI의 페르소나(긍정적, 비난 금지 등)를 실제 프롬프트에 어떻게 녹여낼지에 대한 상세 설계가 필요합니다. 각 Turn별 질문 템플릿과 최종 요약 프롬프트의 초안을 함께 작성해보면 좋겠습니다.
