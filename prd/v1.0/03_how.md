# v1.0 실행 계획: The "How"

이 문서는 AI 페이스메이커 v1.0의 기술적 실행 계획과 리스크 관리를 정의합니다.

> [⬅️ v1.0 개요로 돌아가기](./00_overview.md)

## 최소한의 비기능적 요구사항 (MINIMUM NON-FUNCTIONAL REQUIREMENTS)

- **보안:** 모든 사용자 데이터는 저장 및 전송 시 암호화되어야 한다. 악의적인 프롬프트(어뷰징)는 감지하고 로깅하며, 안전한 응답을 반환해야 한다.
- **성능:** AI의 응답 속도는 평균 3초 이내를 목표로 한다.
  - **(예외 처리: 5초를 초과할 경우, 타임아웃 처리하고 사용자에게 'AI가 조금 더 생각하고 있어요'와 같은 안내 메시지를 노출한다.)**
- **안정성:** 서비스 가용성은 99.5% 이상을 목표로 하며, 데이터는 일 1회 이상 자동 백업되어야 한다.
- **비용 제어:** 사용자당 일일 API 호출 횟수 제한을 적용하고, 월별 AI 비용 예산을 설정하여 모니터링한다.

## 기술 스택 및 아키텍처 개요 (TECH STACK & ARCHITECTURE OVERVIEW)

- **프론트엔드:** **SvelteKit**
- **백엔드:** **Spring Boot (Java/Kotlin)**
- **데이터베이스:** **PostgreSQL**
- **AI 모델:** **OpenAI의 최신 고성능 언어 모델 (예: GPT-4o 또는 후속 모델)**
- **로깅 및 모니터링 (Logging & Monitoring):** MVP 단계에서는 Spring Boot Actuator와 Logback을 이용해 주요 지표 및 이벤트 로그를 파일 시스템에 기록한다. 데이터 분석은 정기적인 배치 작업을 통해 로그 파일을 파싱하여 집계하는 방식으로 구현한다.
- **아키텍처:** 전통적인 3-Tier 아키텍처.

## 데이터 및 분석 계획 (DATA & ANALYTICS PLAN)

**1. 수집할 핵심 데이터 (Key Data to Collect)**

우리는 [성공 지표](../v1.0/01_why.md#success-metrics)를 측정하고 제품을 개선하기 위해, 다음과 같은 사용자 행동 카테고리별로 이벤트를 기록(Logging)합니다.

- **사용자 생애주기 (User Lifecycle):** 사용자의 가입, 재방문 등 서비스 유지율을 측정하기 위함.
  - **이벤트 예시:** `회원가입 완료`, `로그인`, `푸시알림 설정`
- **핵심 행동 퍼널 (Core Action Funnel):** 사용자가 우리의 핵심 기능(다짐-회고)을 얼마나 잘 완수하는지, 어느 단계에서 이탈하는지 분석하기 위함.
  - **이벤트 예시:**
    - **아침 다짐:** `다짐 시작` → `초기 다짐 제출` → `AI 구체화 응답` → `다짐 최종 완료`
    - **저녁 회고:** `회고 시작` → `초기 회고 제출` → `AI 성찰 질문 응답` → `회고 최종 완료`
- **콘텐츠 분석 데이터 (Content Analysis Data):** 사용자의 참여도와 감정 변화를 분석하기 위함.
  - **수집 항목:** `저녁 회고 텍스트 본문 (분석 목적 외 조회 금지)`, `회고 글자 수`

**2. 분석 도구 (Analytics Tools)**

초기에는 백엔드 자체 로깅 및 간단한 관리자 페이지로 시작하며, 서비스가 성장함에 따라 Google Analytics, Amplitude 등 전문 분석 툴 도입을 검토합니다.

## 미래 방향성 (FUTURE CONSIDERATIONS)

- **주간/월간 회고 및 리포트:** 축적된 일일 데이터를 바탕으로 더 긴 호흡의 성장 패턴을 요약/분석해주는 기능을 추가한다.
- **프로젝트/이벤트 기반 트래킹 (단계적 접근):**
  - **Phase 1 (분석 기능):** 사용자가 '취업 준비 기간', '사이드 프로젝트 A' 등 특정 목표를 가진 기간을 설정하고, 해당 기간 동안의 다짐과 회고를 별도로 **필터링하여 모아보는 기능**을 제공합니다. AI는 이 데이터를 기반으로 기간 종료 시 종합적인 **회고 리포트**를 생성해줄 수 있습니다.
  - **Phase 2 (상호작용 기능):** Phase 1을 확장하여, 아침/저녁 회고 시 활성화된 프로젝트의 **맥락에 맞춰 AI와 대화**하는 기능을 도입합니다. AI는 단순한 일상 코치를 넘어, 특정 목표에 대한 '프로젝트 파트너' 역할을 수행하며 더 구체적이고 전문적인 피드백을 제공합니다.
- **AI 코칭 고도화:** 장기적인 사용자 데이터를 기반으로 개인의 고유한 행동 패턴을 인지하고 맞춤형 조언을 제공하는 방향으로 AI를 고도화한다.

## 미해결 질문 및 리스크 (OPEN QUESTIONS AND RISKS)

- **수익 모델 및 AI 비용 (Business Risk):**
  - **Risk:** OpenAI API 비용은 사용자 증가에 따라 기하급수적으로 늘어날 수 있다. 지속 가능한 서비스를 위해 수익 모델 구축이 필수적이다.
  - **Open Question:** 무료 사용자에게 제공할 AI 사용량의 한계는 어디까지인가? 유료 구독 모델을 도입한다면 어떤 추가 가치를 제공해야 하는가?
- **프롬프트 엔지니어링 및 AI 성능 (Product Risk):**
  - **Risk:** AI의 응답이 사용자의 기대를 충족시키지 못하거나, 오히려 사용자에게 부정적인 감정을 유발할 수 있다.
  - **Mitigation Plan:** 베타 테스트 및 핵심 퍼널 데이터를 통해 이탈이 많은 대화 단계를 분석하여 지속적으로 프롬프트를 개선한다.
- **데이터 프라이버시와 분석의 딜레마 (Technical/Policy Risk):**
  - **Risk:** 사용자의 민감한 일기 데이터를 안전하게 보호하는 것과 서비스 개선을 위해 데이터를 분석하는 것 사이에 상충 관계가 존재한다.
  - **Mitigation Plan:** 사용자 동의 없이는 **개발자나 운영자가 원본 텍스트를 직접 조회하지 않는 것을 원칙**으로 한다. 데이터 분석은 **자동화된 스크립트를 통해 서버 내에서만 처리**되며, 분석 결과(예: 감성 점수)만 비식별화된 형태로 저장하여 서비스 개선에 활용한다.
- **AI 모델 의존성 및 비용 최적화 (Technical/Cost Risk):**
  - **Risk:** 모든 기능을 고가의 상용 AI 모델에만 의존할 경우, 비용 부담이 가중되고 특정 기업의 정책 변화에 취약해진다.
  - **Open Question:** 감성 분석 등 비교적 단순한 작업은 오픈소스 모델로 대체하여 비용을 절감할 수 있지 않을까?
- **대화 히스토리 컨텍스트 관리 (Technical/Scalability Risk):**
  - **Risk:** 사용자의 모든 과거 대화 기록을 AI 컨텍스트에 포함하는 것은 비용과 성능 측면에서 불가능하다.
  - **Mitigation Plan:** RAG(Retrieval-Augmented Generation) 아키텍처 도입을 검토하여, 관련성 높은 과거 기록만 효율적으로 주입하는 방식으로 확장성을 확보한다.
